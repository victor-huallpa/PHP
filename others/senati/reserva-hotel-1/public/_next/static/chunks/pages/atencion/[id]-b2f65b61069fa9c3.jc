(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[195],{7203:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/atencion/[id]",function(){return a(5659)}])},4011:function(e,s,a){"use strict";var l=a(6154);let t=l.Z.create({baseURL:"jc_api_replace"});s.Z=t},5740:function(e,s,a){"use strict";function l(){$(document).on("click","#mainSidebarToggle",function(e){e.preventDefault(),$("body.horizontalmenu").toggleClass("main-navbar-show")}),$(".main-menu .with-sub").on("click",function(e){var s=$(this),a=s.next(),l=".nav-sub";if(a.is(l)&&a.is(":visible"))a.slideUp(300,function(){a.removeClass("open")}),a.parent("li").removeClass("show");else if(a.is(l)&&!a.is(":visible")){var t=s.parents("ul").first();t.find("ul:visible").slideUp(300).removeClass("open");var n=s.parent("li");a.slideDown(300,function(){a.addClass("open"),t.find("li.show").removeClass("show"),n.addClass("show")})}a.is(l)&&e.preventDefault()}),$(".main-menu .sub-with-sub").on("click",function(e){var s=$(this),a=s.next(),l=".sub-nav-sub";if(a.is(l)&&a.is(":visible"))a.slideUp(300,function(){a.removeClass("open")}),a.parent("li").removeClass("show");else if(a.is(l)&&!a.is(":visible")){var t=s.parents("ul").first();t.find("ul:visible").slideUp(300).removeClass("open");var n=s.parent("li");a.slideDown(300,function(){a.addClass("open"),t.find("li.show").removeClass("show"),n.addClass("show")})}a.is(l)&&e.preventDefault()});let e=!1;$(".main-profile-menu").on("click",function(s){!0==e?($("#user_menu").removeClass("show"),e=!1):($("#user_menu").addClass("show"),e=!0)})}a.d(s,{O:function(){return l}})},5659:function(e,s,a){"use strict";a.r(s);var l=a(5893),t=a(7294),n=a(9109),i=a(1163),c=a(4011),r=a(1664),d=a.n(r),o=a(5740);a(4184),s.default=function(){let e=(0,i.useRouter)(),s=e.query.id,[a,r]=(0,t.useState)({nivel:{}}),[m,h]=(0,t.useState)({}),[u,x]=(0,t.useState)({}),[j,N]=(0,t.useState)(!0),[v,p]=(0,t.useState)(!1),[b,f]=(0,t.useState)(""),[E,y]=(0,t.useState)(""),[C,g]=(0,t.useState)(1),[w,O]=(0,t.useState)(""),[S,R]=(0,t.useState)(0),[A,D]=(0,t.useState)(0),[F,I]=(0,t.useState)(""),[T,_]=(0,t.useState)([]);async function k(e){g(e.target.value)}async function P(e){O(e.target.value)}async function L(e){let s={...u};s.name=e.target.value,x(s)}async function U(e){let s={...u};s.telefono=e.target.value,x(s)}async function H(e){let s={...u};s.direccion=e.target.value,x(s)}async function V(e){let s={...m};s.hora_end=e.target.value,h(s)}async function Z(e){let s={...m};s.hora_start=e.target.value,h(s)}async function M(e){let s={...a};s.precio=e.target.value,r(s)}async function z(e){D(Number(e.target.value))}async function B(){h((await c.Z.post("habitacion-disponibilidad/"+a.id,{dias:C})).data)}async function X(){let l={...m};l.habitacion_id=s,l.precio=a.precio,l.cliente={...u},l.cliente.documento=w,l.adelanto=A,console.log((await c.Z.post("recepcions",l)).data),e.push("/")}async function q(){let e=await c.Z.post("consultar-documento",{documento:w});e.data.hasOwnProperty("id")&&x(e.data)}(0,t.useEffect)(()=>{N(!0),(0,o.O)();let e=async()=>{try{let e=await c.Z.get("habitacions/"+s);r(e.data),_(e.data.reservacions),R(e.data.precio)}catch(e){}finally{N(!1)}};e()},[s]);let G={0:"Baja",1:"Pendiente",2:"Con adelanto",3:"Confirmado"};return(0,l.jsxs)(n.Z,{modulo:"Setting",page:"Categorias",children:[j?(0,l.jsxs)("div",{id:"global-loader",children:[" ",(0,l.jsx)("img",{src:"/assets/loader.svg",className:"loader-img",alt:"Loader"})," "]}):"",(0,l.jsxs)("div",{className:"page-header",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("h2",{className:"main-content-title tx-24 mg-b-5",children:["Habitacion ",a.name]}),(0,l.jsxs)("ol",{className:"breadcrumb",children:[(0,l.jsx)("li",{className:"breadcrumb-item",children:(0,l.jsx)("a",{href:"#",children:"Recepci\xf3n"})}),(0,l.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:a.nivel.name})]})]}),(0,l.jsx)("div",{className:"d-flex",children:(0,l.jsx)("div",{className:"justify-content-center"})})]}),(0,l.jsx)("div",{className:"row row-sm justify-content-center",children:(0,l.jsxs)("div",{className:"col-lg-4 col-md-12 ",children:[(0,l.jsxs)("div",{className:"card custom-card",children:[(0,l.jsx)("div",{className:"card-header  border-bottom-0 pb-0",children:(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"d-flex",children:(0,l.jsxs)("label",{className:"main-content-label my-auto pt-2",children:["Empezar atencion para la habitac\xedon ",a.name]})})})}),(0,l.jsx)("div",{className:"card-body",children:(0,l.jsx)("div",{className:"row",children:(0,l.jsxs)("div",{className:"col-12",children:[(0,l.jsx)("label",{htmlFor:"",children:"DIAS DE RESERVA"}),(0,l.jsxs)("div",{className:"input-group",children:[(0,l.jsx)("input",{type:"text",name:"",value:C,onChange:k,className:"form-control",id:""}),(0,l.jsxs)("button",{className:"btn btn-primary",onClick:B,children:[(0,l.jsx)("i",{className:"fa fa-search mx-2"}),"Consultar"]})]})]})})})]}),m.hasOwnProperty("reservas")?m.reservas.length?(0,l.jsxs)("div",{className:"card custom-card crypto-cur",children:[(0,l.jsx)("div",{className:"card-header border-bottom-0 mb-0",children:(0,l.jsx)("label",{className:"main-content-label mb-0",children:"RESPUESTA"})}),(0,l.jsxs)("div",{className:"card-body pt-1",children:[(0,l.jsx)("div",{className:"d-flex",children:(0,l.jsxs)("div",{className:"",children:[(0,l.jsx)("span",{className:"text-uppercase tx-14 mt-4 text-muted",children:"HEMOS ENCONTRADO RESERVAS EN ESTA HABITACION"}),(0,l.jsxs)("div",{className:"d-flex my-auto",children:[(0,l.jsx)("h2",{className:"mt-1 mb-0",children:m.dias}),(0,l.jsx)("span",{className:"mt-auto ms-2",children:"DIAS"})]})]})}),(0,l.jsxs)("div",{className:"d-flex mt-4 justify-content-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-uppercase tx-13 text-muted mb-1",children:"DESDE"}),(0,l.jsx)("div",{className:"d-flex my-auto",children:(0,l.jsx)("h5",{className:"mt-1 mb-0",children:m.start})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-uppercase tx-13 text-muted mb-1",children:"HASTA"}),(0,l.jsx)("div",{className:"d-flex my-auto",children:(0,l.jsx)("h5",{className:"mt-1 mb-0",children:m.end})})]})]}),(0,l.jsxs)("div",{className:"row mt-4",children:[(0,l.jsx)("div",{className:"col-6",children:(0,l.jsx)(d(),{className:"btn btn-block btn-primary",href:"/",children:"REGRESAR"})}),(0,l.jsx)("div",{className:"col-6",children:(0,l.jsx)(d(),{className:"btn btn-block btn-success",href:"/reservacion/"+a.id,children:"VER RECEPCIONES"})})]}),(0,l.jsx)("ul",{className:"list-group mt-4 tx-13",children:m.reservas.map(e=>(0,l.jsxs)("li",{className:"list-group-item pd-x-5 pd-sm-x-0 d-flex justify-content-between",children:[(0,l.jsxs)("div",{className:"d-flex",children:[(0,l.jsx)("span",{className:"crypto-icon bg-primary-transparent me-3",children:(0,l.jsx)("i",{className:"fe fe-calendar text-primary"})}),(0,l.jsx)("span",{className:"my-auto font-weight-semibold tx-15",children:e.title})]}),(0,l.jsxs)("span",{className:"font-weight-semibold my-auto text-success tx-15",children:[G[e.active],":",(0,l.jsxs)("span",{className:"mt-auto ms-2 text-muted font-weight-normal",children:[e.start," - ",e.end]})]})]}))})]})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"card custom-card",children:[(0,l.jsx)("div",{className:"card-header  border-bottom-0 pb-0",children:(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"d-flex",children:(0,l.jsx)("label",{className:"main-content-label my-auto pt-2",children:"DETALLE DE RECPECION"})})})}),(0,l.jsx)("div",{className:"card-body",children:(0,l.jsxs)("div",{className:"row",children:[(0,l.jsxs)("div",{className:"col-6",children:[(0,l.jsx)("label",{htmlFor:"",children:"INICIO FECHA DE RESERVA"}),(0,l.jsx)("input",{type:"text",name:"",value:m.start,className:"form-control",readOnly:!0,id:""})]}),(0,l.jsxs)("div",{className:"col-6",children:[(0,l.jsx)("label",{htmlFor:"",children:"INICIO HORA DE RESERVA"}),(0,l.jsx)("input",{type:"text",name:"",value:m.hora_start,onChange:Z,className:"form-control",id:""})]}),(0,l.jsxs)("div",{className:"col-6",children:[(0,l.jsx)("label",{htmlFor:"",children:"FIN FECHA DE RESERVA"}),(0,l.jsx)("input",{type:"text",name:"",value:m.end,className:"form-control",readOnly:!0,id:""})]}),(0,l.jsxs)("div",{className:"col-6",children:[(0,l.jsx)("label",{htmlFor:"",children:"FIN HORA DE RESERVA"}),(0,l.jsx)("input",{type:"text",name:"",value:m.hora_end,onChange:V,className:"form-control",id:""})]}),(0,l.jsxs)("div",{className:"col-4",children:[(0,l.jsx)("label",{htmlFor:"",children:"DIAS "}),(0,l.jsx)("input",{type:"text",name:"",value:m.dias,className:"form-control",readOnly:!0,id:""})]}),(0,l.jsxs)("div",{className:"col-4",children:[(0,l.jsx)("label",{htmlFor:"",children:"PRECIO"}),(0,l.jsx)("input",{type:"text",name:"",value:a.precio,onChange:M,className:"form-control",id:""})]}),(0,l.jsxs)("div",{className:"col-4",children:[(0,l.jsx)("label",{htmlFor:"",children:"TOTAL"}),(0,l.jsx)("input",{type:"text",name:"",value:Number(a.precio*m.dias).toFixed(2),readOnly:!0,className:"form-control",id:""})]})]})})]}),(0,l.jsxs)("div",{className:"card custom-card",children:[(0,l.jsx)("div",{className:"card-header  border-bottom-0 pb-0",children:(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"d-flex",children:(0,l.jsx)("label",{className:"main-content-label my-auto pt-2",children:"CLIENTE DE RECEPCION"})})})}),(0,l.jsx)("div",{className:"card-body",children:(0,l.jsxs)("div",{className:"row",children:[(0,l.jsxs)("div",{className:"col-12",children:[(0,l.jsx)("label",{htmlFor:"",children:"DOCUMENTO"}),(0,l.jsxs)("div",{className:"input-group",children:[(0,l.jsx)("input",{type:"text",name:"",value:w,onChange:P,className:"form-control",id:""}),(0,l.jsxs)("button",{className:"btn btn-primary",onClick:q,children:[(0,l.jsx)("i",{className:"fa fa-search mx-2"}),"CONSULTAR DOCUMENTO"]})]})]}),(0,l.jsxs)("div",{className:"col-12",children:[(0,l.jsx)("label",{htmlFor:"",children:"CLIENTE"}),(0,l.jsx)("input",{type:"text",name:"",value:u.name,onChange:L,className:"form-control",id:""})]}),(0,l.jsxs)("div",{className:"col-6",children:[(0,l.jsx)("label",{htmlFor:"",children:"TELEFONO"}),(0,l.jsx)("input",{type:"text",name:"",value:u.telefono,onChange:U,className:"form-control",id:""})]}),(0,l.jsxs)("div",{className:"col-6",children:[(0,l.jsx)("label",{htmlFor:"",children:"DIRECCION"}),(0,l.jsx)("input",{type:"text",name:"",value:u.direccion,onChange:H,className:"form-control",id:""})]}),(0,l.jsxs)("div",{className:"col-6",children:[(0,l.jsx)("label",{htmlFor:"",children:"ADELANTO"}),(0,l.jsx)("input",{type:"text",name:"",value:A,onChange:z,className:"form-control",id:""})]}),(0,l.jsxs)("div",{className:"col-6",children:[(0,l.jsx)("label",{htmlFor:"",children:"DEUDA PENDIENTE"}),(0,l.jsx)("input",{type:"text",name:"",value:Number(a.precio*m.dias-A).toFixed(2),className:"form-control",readOnly:!0,id:""})]}),(0,l.jsx)("div",{className:"col-12 mt-4",children:(0,l.jsxs)("button",{className:"btn btn-success w-100",onClick:X,children:[(0,l.jsx)("i",{className:"fa fa-save"})," RECEPECIONAR "]})})]})})]})]}):(0,l.jsx)(l.Fragment,{})]})})]})}}},function(e){e.O(0,[827,245,109,774,888,179],function(){return e(e.s=7203)}),_N_E=e.O()}]);