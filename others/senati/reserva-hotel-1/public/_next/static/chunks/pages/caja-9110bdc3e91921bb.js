(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2],{5025:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/caja",function(){return a(3791)}])},4011:function(e,s,a){"use strict";var l=a(6154);let t=l.Z.create({baseURL:"http://localhost/proyects/api-king-hotel/public/api/"});s.Z=t},5740:function(e,s,a){"use strict";function l(){$(document).on("click","#mainSidebarToggle",function(e){e.preventDefault(),$("body.horizontalmenu").toggleClass("main-navbar-show")}),$(".main-menu .with-sub").on("click",function(e){var s=$(this),a=s.next(),l=".nav-sub";if(a.is(l)&&a.is(":visible"))a.slideUp(300,function(){a.removeClass("open")}),a.parent("li").removeClass("show");else if(a.is(l)&&!a.is(":visible")){var t=s.parents("ul").first();t.find("ul:visible").slideUp(300).removeClass("open");var i=s.parent("li");a.slideDown(300,function(){a.addClass("open"),t.find("li.show").removeClass("show"),i.addClass("show")})}a.is(l)&&e.preventDefault()}),$(".main-menu .sub-with-sub").on("click",function(e){var s=$(this),a=s.next(),l=".sub-nav-sub";if(a.is(l)&&a.is(":visible"))a.slideUp(300,function(){a.removeClass("open")}),a.parent("li").removeClass("show");else if(a.is(l)&&!a.is(":visible")){var t=s.parents("ul").first();t.find("ul:visible").slideUp(300).removeClass("open");var i=s.parent("li");a.slideDown(300,function(){a.addClass("open"),t.find("li.show").removeClass("show"),i.addClass("show")})}a.is(l)&&e.preventDefault()});let e=!1;$(".main-profile-menu").on("click",function(s){!0==e?($("#user_menu").removeClass("show"),e=!1):($("#user_menu").addClass("show"),e=!0)})}a.d(s,{O:function(){return l}})},3791:function(e,s,a){"use strict";a.r(s);var l=a(5893),t=a(7294),i=a(9109),n=a(1163),c=a(5740),r=a(4011);a(4184),s.default=function(){let e=(0,n.useRouter)(),s=e.query.id,[a,o]=(0,t.useState)({caja:{}}),[d,u]=(0,t.useState)({}),[m,h]=(0,t.useState)(0),[v,f]=(0,t.useState)(0),[p,j]=(0,t.useState)(!0);async function x(){try{let e={user_id:a.id,inicial:m},s=await r.Z.post("cajas",e),l=localStorage.getItem("hk.user");(l=JSON.parse(l)).caja=s.data,localStorage.setItem("hk.user",JSON.stringify(l)),o(l);let t=await r.Z.get("cajas/"+l.caja.id);u(t.data)}catch(e){}}async function b(){try{let e={total:d.total,final:v};await r.Z.post("cajas-cerrar/"+d.id,e);let s=localStorage.getItem("hk.user");(s=JSON.parse(s)).caja=null,localStorage.setItem("hk.user",JSON.stringify(s)),o(s),u({})}catch(e){}}return(0,t.useEffect)(()=>{let e=localStorage.getItem("hk.user");(e=JSON.parse(e))&&o(e);let s=async e=>{try{let s=await r.Z.get("cajas/"+e.caja.id);u(s.data)}catch(e){}finally{j(!1)}};j(!0),s(e),(0,c.O)()},[s]),(0,l.jsxs)(i.Z,{modulo:"Caja",page:"Caja",children:[p?(0,l.jsxs)("div",{id:"global-loader",children:[" ",(0,l.jsx)("img",{src:"/assets/loader.svg",className:"loader-img",alt:"Loader"})," "]}):"",(0,l.jsxs)("div",{className:"page-header",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"MI CAJA"}),(0,l.jsx)("ol",{className:"breadcrumb",children:(0,l.jsx)("li",{className:"breadcrumb-item",children:(0,l.jsx)("a",{href:"#",children:"CAJA"})})})]}),(0,l.jsx)("div",{className:"d-flex",children:(0,l.jsx)("div",{className:"justify-content-center"})})]}),(0,l.jsx)("div",{className:"row row-sm justify-content-center",children:(0,l.jsx)("div",{className:"col-md-4 col-12",children:(0,l.jsx)("div",{className:"card custom-card",children:d.hasOwnProperty("id")?(0,l.jsx)("div",{className:"card-body",children:(0,l.jsxs)("div",{className:"row",children:[(0,l.jsxs)("div",{className:"col-12 text-center",children:[(0,l.jsx)("label",{htmlFor:"",children:"Total"}),(0,l.jsx)("h3",{className:"text-primary",children:Number(d.total).toFixed(2)})]}),(0,l.jsxs)("div",{className:"col-12",children:[(0,l.jsx)("label",{htmlFor:"",children:"Monto final"}),(0,l.jsx)("input",{type:"text",name:"",value:v,onChange:e=>f(Number(e.target.value)),className:"form-control",placeholder:"0",id:""})]}),(0,l.jsx)("div",{className:"col-12 mt-2",children:(0,l.jsx)("button",{className:"w-100 btn btn-primary",onClick:b,children:"CERRAR"})})]})}):(0,l.jsx)("div",{className:"card-body",children:(0,l.jsxs)("div",{className:"row",children:[(0,l.jsxs)("div",{className:"col-12",children:[(0,l.jsx)("label",{htmlFor:"",children:"Monto Inicial"}),(0,l.jsx)("input",{type:"text",name:"",value:m,onChange:e=>h(Number(e.target.value)),className:"form-control",placeholder:"0",id:""})]}),(0,l.jsx)("div",{className:"col-12 mt-2",children:(0,l.jsx)("button",{className:"w-100 btn btn-primary",onClick:x,children:"INICIAR CAJA"})})]})})})})})]})}}},function(e){e.O(0,[827,245,109,774,888,179],function(){return e(e.s=5025)}),_N_E=e.O()}]);