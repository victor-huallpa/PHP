(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[62],{4309:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/detalles",function(){return s(7585)}])},4011:function(e,a,s){"use strict";var t=s(6154);let i=t.Z.create({baseURL:"jc_api_replace"});a.Z=i},5740:function(e,a,s){"use strict";function t(){$(document).on("click","#mainSidebarToggle",function(e){e.preventDefault(),$("body.horizontalmenu").toggleClass("main-navbar-show")}),$(".main-menu .with-sub").on("click",function(e){var a=$(this),s=a.next(),t=".nav-sub";if(s.is(t)&&s.is(":visible"))s.slideUp(300,function(){s.removeClass("open")}),s.parent("li").removeClass("show");else if(s.is(t)&&!s.is(":visible")){var i=a.parents("ul").first();i.find("ul:visible").slideUp(300).removeClass("open");var l=a.parent("li");s.slideDown(300,function(){s.addClass("open"),i.find("li.show").removeClass("show"),l.addClass("show")})}s.is(t)&&e.preventDefault()}),$(".main-menu .sub-with-sub").on("click",function(e){var a=$(this),s=a.next(),t=".sub-nav-sub";if(s.is(t)&&s.is(":visible"))s.slideUp(300,function(){s.removeClass("open")}),s.parent("li").removeClass("show");else if(s.is(t)&&!s.is(":visible")){var i=a.parents("ul").first();i.find("ul:visible").slideUp(300).removeClass("open");var l=a.parent("li");s.slideDown(300,function(){s.addClass("open"),i.find("li.show").removeClass("show"),l.addClass("show")})}s.is(t)&&e.preventDefault()});let e=!1;$(".main-profile-menu").on("click",function(a){!0==e?($("#user_menu").removeClass("show"),e=!1):($("#user_menu").addClass("show"),e=!0)})}s.d(a,{O:function(){return t}})},7585:function(e,a,s){"use strict";s.r(a);var t=s(5893),i=s(7294),l=s(4011),n=s(9109),o=s(5740);function r(e){return(0,i.useEffect)(()=>{let a=e.data,s=$("#tb_demo").DataTable({data:a,responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros",paginate:{first:"Primero",last:"\xdaltimo",next:"Siguiente",previous:"Anterior"},infoFiltered:"(filtrado de un total de _MAX_ registros)",emptyTable:"Ning\xfan dato disponible en esta tabla",info:"Mostrando _START_ a _END_ de _TOTAL_ registros"},columns:[{data:"name"},{data:"id",render:function(e,a){return'<div class="button-list"><a href="#" class="btn"><i class="ti ti-pencil td_edit" model_id="'.concat(e,'"></i></a> <a href="#" class="btn"><i class="ti ti-trash td_delete" model_id="').concat(e,'"></i></a> </div> ')}}],initComplete:function(){var a=this.api();a.$(".td_delete").click(function(){var a;a=this.getAttribute("model_id"),e.itemDelete(a)}),a.$(".td_edit").click(function(){var a;a=this.getAttribute("model_id"),e.itemEdit(a)})}});return()=>{s.destroy()}},[e]),(0,t.jsx)("table",{id:"tb_demo",className:"table table-bordered border-bottom  no-footer",children:(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Nombre"}),(0,t.jsx)("th",{children:"Accion"})]})})})}a.default=function(){let[e,a]=(0,i.useState)(null),[c,d]=(0,i.useState)(!0),[m,u]=(0,i.useState)(!0),[f,h]=(0,i.useState)(""),[b,p]=(0,i.useState)(0),[v,x]=(0,i.useState)([]);async function g(){try{await l.Z.post("detalles",{name:f}),notif({type:"success",msg:"Guardado correctamente!",position:"center"});let e=await l.Z.get("detalles"),a=await e.data;x(a),h("")}catch(e){notif({type:"error",msg:'<i class="far fa-sad-tear"></i> Algo sal\xedo mal',position:"center"})}}async function j(e){try{var a=async function(a){if(a){await l.Z.delete("detalles/"+e),notif({type:"success",msg:"Eliminado correctamente!",position:"center"});let a=await l.Z.get("detalles"),s=await a.data;x(s)}else notif({type:"error",msg:'<i class="far fa-sad-tear"></i>',position:"center"})};notif_confirm({textaccept:"Eliminar",textcancel:"Cerrar",message:"Deseas eliminar?",callback:a}),h("")}catch(e){notif({type:"error",msg:'<i class="far fa-sad-tear"></i> Algo sal\xedo mal',position:"center"})}}async function N(){try{await l.Z.put("detalles/"+b,{name:f}),notif({type:"success",msg:"Actualizado correctamente!",position:"center"});let e=await l.Z.get("detalles"),a=await e.data;x(a),h("")}catch(e){notif({type:"error",msg:'<i class="far fa-sad-tear"></i> Algo sal\xedo mal',position:"center"})}}async function y(e){d(!1);let a=[...v].find(a=>a.id==e);h(a.name),p(a.id);let{Modal:t}=s(8877),i=new t("#modalModel",{backdrop:"static",keyboard:!1});i.show(),d(!1)}async function w(e){h(e.target.value)}return(0,i.useEffect)(()=>{u(!0),(0,o.O)();let e=async()=>{try{let e=await l.Z.get("detalles"),a=await e.data;x(a)}catch(e){}finally{u(!1)}};e()},[]),(0,t.jsxs)(n.Z,{modulo:"Setting",page:"Detalles",children:[m?(0,t.jsxs)("div",{id:"global-loader",children:[" ",(0,t.jsx)("img",{src:"/assets/loader.svg",className:"loader-img",alt:"Loader"})," "]}):"",(0,t.jsxs)("div",{className:"page-header",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"Detalles"}),(0,t.jsxs)("ol",{className:"breadcrumb",children:[(0,t.jsx)("li",{className:"breadcrumb-item",children:(0,t.jsx)("a",{href:"#",children:"Configuraci\xf3n"})}),(0,t.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Detalles"})]})]}),(0,t.jsx)("div",{className:"d-flex",children:(0,t.jsx)("div",{className:"justify-content-center",children:(0,t.jsxs)("button",{type:"button",onClick:function(){let{Modal:e}=s(8877),a=new e("#modalModel",{backdrop:"static",keyboard:!1});a.show(),d(!0)},className:"btn btn-primary my-2 btn-icon-text",children:[(0,t.jsx)("i",{className:"fe fe-plus-circle"})," NUEVO"]})})})]}),(0,t.jsx)("div",{className:"modal ",id:"modalModel",role:"dialog",children:(0,t.jsx)("div",{className:"modal-dialog modal-md",role:"document",children:(0,t.jsxs)("div",{className:"modal-content",children:[(0,t.jsxs)("div",{className:"modal-header",children:[(0,t.jsx)("h6",{className:"modal-title",children:c?"NUEVO":"ACTUALIZAR"}),(0,t.jsx)("button",{"aria-label":"Close",className:"btn-close","data-bs-dismiss":"modal",type:"button"})]}),(0,t.jsx)("div",{className:"modal-body",children:(0,t.jsx)("div",{className:"row",children:(0,t.jsxs)("div",{className:"col-12",children:[(0,t.jsx)("label",{htmlFor:"",children:"Nombre"}),(0,t.jsx)("input",{className:" form-control",value:f,onChange:w})]})})}),(0,t.jsxs)("div",{className:"modal-footer justify-content-end",children:[!0==c?(0,t.jsx)("button",{className:"btn ripple btn-primary",type:"button",onClick:g,"data-bs-dismiss":"modal",children:"GUARDAR"}):(0,t.jsx)("button",{className:"btn ripple btn-primary",type:"button",onClick:N,"data-bs-dismiss":"modal",children:"ACTUALIZAR"}),(0,t.jsx)("button",{className:"btn ripple btn-secondary","data-bs-dismiss":"modal",type:"button",children:"CERRAR"})]})]})})}),(0,t.jsx)("div",{className:"row row-sm",children:(0,t.jsx)("div",{className:"col-md-12 col-lg-12",children:(0,t.jsxs)("div",{className:"card custom-card",children:[(0,t.jsx)("div",{className:"card-header  border-bottom-0 pb-0",children:(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"d-flex",children:(0,t.jsx)("label",{className:"main-content-label my-auto pt-2",children:"Lista de Detalles"})})})}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsx)(r,{data:v,itemDelete:j,itemEdit:y})})]})})})]})}}},function(e){e.O(0,[827,245,877,109,774,888,179],function(){return e(e.s=4309)}),_N_E=e.O()}]);