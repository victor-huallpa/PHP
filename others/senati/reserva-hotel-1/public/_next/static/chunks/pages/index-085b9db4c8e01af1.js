
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(1945)}])},4011:function(e,s,a){"use strict";var i=a(6154);let t=i.Z.create({baseURL:"http://localhost/proyects/api-king-hotel/public/api/"});s.Z=t},5740:function(e,s,a){"use strict";function i(){$(document).on("click","#mainSidebarToggle",function(e){e.preventDefault(),$("body.horizontalmenu").toggleClass("main-navbar-show")}),$(".main-menu .with-sub").on("click",function(e){var s=$(this),a=s.next(),i=".nav-sub";if(a.is(i)&&a.is(":visible"))a.slideUp(300,function(){a.removeClass("open")}),a.parent("li").removeClass("show");else if(a.is(i)&&!a.is(":visible")){var t=s.parents("ul").first();t.find("ul:visible").slideUp(300).removeClass("open");var l=s.parent("li");a.slideDown(300,function(){a.addClass("open"),t.find("li.show").removeClass("show"),l.addClass("show")})}a.is(i)&&e.preventDefault()}),$(".main-menu .sub-with-sub").on("click",function(e){var s=$(this),a=s.next(),i=".sub-nav-sub";if(a.is(i)&&a.is(":visible"))a.slideUp(300,function(){a.removeClass("open")}),a.parent("li").removeClass("show");else if(a.is(i)&&!a.is(":visible")){var t=s.parents("ul").first();t.find("ul:visible").slideUp(300).removeClass("open");var l=s.parent("li");a.slideDown(300,function(){a.addClass("open"),t.find("li.show").removeClass("show"),l.addClass("show")})}a.is(i)&&e.preventDefault()});let e=!1;$(".main-profile-menu").on("click",function(s){!0==e?($("#user_menu").removeClass("show"),e=!1):($("#user_menu").addClass("show"),e=!0)})}a.d(s,{O:function(){return i}})},1945:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return v}});var i=a(5893),t=a(7294),l=a(4011),c=a(9109),n=a(4184);function d(e){var s=n.bind({"list-item px-2 pb-2 card-category":"list-item px-2 pb-2 card-category",active:"active"});function a(s){e.selectCategory(s)}return(0,i.jsxs)("div",{className:"card custom-card overflow-hidden",children:[(0,i.jsxs)("div",{className:"card-header border-bottom-0",children:[(0,i.jsx)("label",{className:"main-content-label my-auto pt-2",children:"Categor\xedas"}),(0,i.jsx)("span",{className:"d-block tx-12 mb-2 mt-1 text-muted",children:"Lista de categor\xedas"})]}),(0,i.jsxs)("ul",{className:"crypto-transcation list-unstyled mg-b-0 mt-0",children:[(0,i.jsx)("li",{className:s({active:0==e.category},"list-item px-2 pb-2 card-category"),onClick:()=>a(0),children:(0,i.jsxs)("div",{className:"media align-items-center",children:[(0,i.jsx)("div",{className:"crypto-icon bg-primary-transparent text-primary",children:(0,i.jsx)("i",{className:"fa fa-tag wd-20 ht-20 text-center tx-18"})}),(0,i.jsx)("div",{className:"media-body ms-3",children:(0,i.jsx)("p",{className:"tx-medium mg-b-3 tx-15",children:"Todas"})})]})}),e.data.map((t,l)=>(0,i.jsx)("li",{className:s({active:e.category==t.id},"list-item px-2 pb-2 card-category"),onClick:()=>a(t.id),children:(0,i.jsxs)("div",{className:"media align-items-center",children:[(0,i.jsx)("div",{className:"crypto-icon bg-primary-transparent text-primary",children:(0,i.jsx)("i",{className:"fa fa-tag wd-20 ht-20 text-center tx-18"})}),(0,i.jsx)("div",{className:"media-body ms-3",children:(0,i.jsx)("p",{className:"tx-medium mg-b-3 tx-15",children:t.name})})]})}))]})]})}function r(e){function s(s){e.selectNivel(s)}return(0,t.useEffect)(()=>(setTimeout(function(){$("#owl").owlCarousel({loop:!0,autoplay:!0,slideTransition:"linear",autoplaySpeed:6e3,smartSpeed:6e3,center:!0,margin:22,dots:!1,responsive:{0:{items:1,nav:!0},600:{items:2,nav:!0},992:{items:3,nav:!0},1300:{items:4,nav:!0},1500:{items:4,nav:!0}},responsiveRefreshRate:200,onRefresh:()=>{}}),$(".owl-nav").css("display","none")},1e3),()=>{}),[]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{id:"owl",className:"owl-carousel  owl-theme owl-loaded owl-drag",children:(0,i.jsx)("div",{className:"owl-stage-outer",children:(0,i.jsxs)("div",{className:"owl-stage",children:[(0,i.jsx)("div",{className:"owl-item",children:(0,i.jsx)("div",{className:"item",children:(0,i.jsx)("div",{className:"card custom-card",onClick:()=>s(0),children:(0,i.jsx)("div",{className:"card-body",children:(0,i.jsxs)("div",{className:"d-flex no-block align-items-center",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-muted tx-13 mb-3",children:"Nivel"}),(0,i.jsx)("h3",{className:"m-0 mt-2",children:"General"})]}),(0,i.jsx)("div",{className:"ms-auto mt-auto",children:(0,i.jsx)("img",{src:"/assets/img/brand/king-primary.png",className:"wd-50 hd-50 me-2",alt:""})})]})})})})}),e.data.map((e,a)=>(0,i.jsx)("div",{className:"owl-item",children:(0,i.jsx)("div",{className:"item",children:(0,i.jsx)("div",{className:"card custom-card",onClick:()=>s(e.id),children:(0,i.jsx)("div",{className:"card-body",children:(0,i.jsxs)("div",{className:"d-flex no-block align-items-center",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-muted tx-13 mb-3",children:"Nivel"}),(0,i.jsx)("h3",{className:"m-0 mt-2",children:e.name})]}),(0,i.jsx)("div",{className:"ms-auto mt-auto",children:(0,i.jsx)("img",{src:"/assets/img/brand/king-primary.png",className:"wd-50 hd-50 me-2",alt:""})})]})})})},a)}))]})})})})}var o=a(4184);function m(e){let s=e.data;var a=o({"fa fa-bed text-success":1==s.active,"fa fa-bed text-danger":2==s.active,"fa fa-broom text-info":3==s.active},"fs-25");return(0,i.jsx)("div",{className:"col-sm-12 col-md-3",children:(0,i.jsx)("div",{className:"card custom-card card-habitacion",onClick:function(){e.selectHabitacionCard(s)},children:(0,i.jsx)("div",{className:"card-body",children:(0,i.jsxs)("div",{className:"card-item",children:[(0,i.jsx)("div",{className:"card-item-icon card-icon",children:(0,i.jsx)("i",{className:a,"data-bs-toggle":"tooltip",title:"","data-bs-original-title":"Disponible","aria-label":"Disponible"})}),(0,i.jsxs)("div",{className:"card-item-title mb-2",children:[(0,i.jsx)("label",{className:"main-content-label tx-13 font-weight-bold mb-1",children:s.categoria.name}),(0,i.jsx)("span",{className:"d-block tx-12 mb-0 text-muted",children:s.detalle.name})]}),(0,i.jsx)("div",{className:"card-item-body",children:(0,i.jsxs)("div",{className:"card-item-stat",children:[(0,i.jsx)("h4",{className:"font-weight-bold",children:s.name}),(0,i.jsxs)("small",{className:"text-success tx-13 font-weight-bold",children:["S/ ",Number(s.precio).toFixed(2)]})]})})]})})})})}function h(e){let s=e.data;function a(s){e.selecHabitacion(s)}return 0!=e.category&&(s=e.data.filter(s=>s.categoria_id==e.category)),0!=e.nivel&&(s=s.filter(s=>s.nivel_id==e.nivel)),(0,i.jsx)("div",{className:"row",children:s.map(e=>(0,i.jsx)(m,{data:e,selectHabitacionCard:a}))})}a(4184);var x=a(1163),u=a(5740);function b(){let[e,s]=(0,t.useState)("");function a(){s(new Date().toLocaleTimeString())}return(0,t.useEffect)(()=>{s(new Date().toLocaleTimeString());let e=setInterval(a,1e3);return function(){clearInterval(e)}},[]),(0,i.jsx)("b",{className:"text-primary",children:e})}var v=function(){let e=a(381),s=(0,x.useRouter)(),[n,o]=(0,t.useState)(null),[m,v]=(0,t.useState)(!0),[p,j]=(0,t.useState)(!0),[N,f]=(0,t.useState)(""),[g,w]=(0,t.useState)(0),[y,C]=(0,t.useState)(0),[k,_]=(0,t.useState)(0),[A,E]=(0,t.useState)([]),[S,R]=(0,t.useState)([]),[I,O]=(0,t.useState)([]),[D,T]=(0,t.useState)({nivel:{}});async function L(){try{await l.Z.post("habitacion-nolimpiar/"+D.id,{}),await Promise.all([l.Z.get("habitacions-recepcion")]).then(e=>{O(e[0].data)})}catch(e){}}async function Z(){try{await l.Z.post("habitacion-limpiar/"+D.id,{}),await Promise.all([l.Z.get("habitacions-recepcion")]).then(e=>{O(e[0].data)})}catch(e){}}return(0,t.useEffect)(()=>{(0,u.O)(),e.locale("es"),f(e().format("LL")),j(!0);let s=localStorage.getItem("hk.user");if(null==(s=JSON.parse(s)).caja){let{Modal:e}=a(8877),s=new e("#modalCAJA",{backdrop:"static",keyboard:!1});s.show()}let i=async()=>{try{await Promise.all([l.Z.get("nivels"),l.Z.get("categorias"),l.Z.get("habitacions-recepcion")]).then(e=>{E(e[0].data),R(e[1].data),O(e[2].data)})}catch(e){}finally{j(!1)}};i()},[]),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(c.Z,{modulo:"Dashboard",page:"Dashboard",children:[p?(0,i.jsxs)("div",{id:"global-loader",children:[" ",(0,i.jsx)("img",{src:"/assets/loader.svg",className:"loader-img",alt:"Loader"})," "]}):"",(0,i.jsxs)("div",{className:"page-header",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"Niveles"}),(0,i.jsxs)("ol",{className:"breadcrumb",children:[(0,i.jsx)("li",{className:"breadcrumb-item",children:(0,i.jsx)("a",{href:"#",children:"Configuraci\xf3n"})}),(0,i.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Niveles"})]})]}),(0,i.jsx)("div",{className:"d-flex",children:(0,i.jsx)("div",{className:"justify-content-center"})})]}),(0,i.jsx)("div",{className:"row row-sm",children:(0,i.jsx)(r,{data:A,selectNivel:function(e){_(e)}})}),(0,i.jsxs)("div",{className:"row row-sm",children:[(0,i.jsxs)("div",{className:"col-md-8 col-12",children:[(0,i.jsx)(h,{data:I,nivel:k,category:y,selecHabitacion:function(e){T(e);let{Modal:s}=a(8877),i=new s("#modalModel",{backdrop:"static",keyboard:!1});i.show()}}),(0,i.jsx)("div",{className:"modal ",id:"modalModel",role:"dialog",children:(0,i.jsx)("div",{className:"modal-dialog modal-md",role:"document",children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsxs)("div",{className:"modal-header",children:[(0,i.jsxs)("h6",{className:"modal-title",children:["HABITACION ",D.name]}),(0,i.jsx)("button",{"aria-label":"Close",className:"btn-close","data-bs-dismiss":"modal",type:"button"})]}),(0,i.jsx)("div",{className:"modal-body",children:(0,i.jsxs)("div",{className:"row",children:[null!=D.recepcion_without_productos?(0,i.jsx)("div",{className:"col-sm-12",children:(0,i.jsxs)("div",{className:"row",children:[(0,i.jsxs)("div",{className:"col-8 mb-2",children:[(0,i.jsx)("label",{htmlFor:"",children:"INICIO"}),(0,i.jsx)("input",{type:"text",name:"",value:D.recepcion_without_productos.start,readOnly:!0,className:"form-control",id:""})]}),(0,i.jsxs)("div",{className:"col-4 mb-2",children:[(0,i.jsx)("label",{htmlFor:"",children:"HORA"}),(0,i.jsx)("input",{type:"text",name:"",value:D.recepcion_without_productos.hora_start,readOnly:!0,className:"form-control",id:""})]}),(0,i.jsxs)("div",{className:"col-8 mb-2",children:[(0,i.jsx)("label",{htmlFor:"",children:"FIN"}),(0,i.jsx)("input",{type:"text",name:"",value:D.recepcion_without_productos.end,readOnly:!0,className:"form-control",id:""})]}),(0,i.jsxs)("div",{className:"col-4 mb-2",children:[(0,i.jsx)("label",{htmlFor:"",children:"HORA"}),(0,i.jsx)("input",{type:"text",name:"",value:D.recepcion_without_productos.hora_end,readOnly:!0,className:"form-control",id:""})]})]})}):(0,i.jsx)(i.Fragment,{}),(0,i.jsx)("div",{className:"col-12 text-center",children:(0,i.jsxs)("div",{"aria-label":"Basic example",className:"btn btn-group",role:"group",children:[1==D.active?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{className:"btn ripple btn-success pd-x-25",type:"button",onClick:()=>{s.push("/atencion/"+D.id)},"data-bs-dismiss":"modal",children:"RECEPCION"}),(0,i.jsx)("button",{className:"btn ripple btn-info pd-x-25",type:"button",onClick:Z,"data-bs-dismiss":"modal",children:"LIMPIEZA"})]}):2==D.active?(0,i.jsx)("button",{className:"btn ripple btn-warning pd-x-25",type:"button",onClick:()=>{s.push("/detalle-habitacion/"+D.id)},"data-bs-dismiss":"modal",children:"DETALLE"}):(0,i.jsx)("button",{className:"btn ripple btn-info pd-x-25",type:"button",onClick:L,"data-bs-dismiss":"modal",children:"DEJAR DE LIMPIAR"}),(0,i.jsx)("button",{className:"btn ripple btn-secondary pd-x-25",type:"button",onClick:()=>{s.push("/reservacion/"+D.id)},"data-bs-dismiss":"modal",children:"RESERVACIONES"})]})})]})}),(0,i.jsx)("div",{className:"modal-footer justify-content-end",children:(0,i.jsx)("button",{className:"btn ripple btn-dark","data-bs-dismiss":"modal",type:"button",children:"CERRAR"})})]})})}),(0,i.jsx)("div",{className:"modal ",id:"modalCAJA",role:"dialog",children:(0,i.jsx)("div",{className:"modal-dialog modal-md",role:"document",children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsx)("div",{className:"modal-header",children:(0,i.jsx)("h6",{className:"modal-title",children:"NO HAY CAJA ABIERTA"})}),(0,i.jsx)("div",{className:"modal-body",children:"NECESITAR APERTURAR UNA CAJA"}),(0,i.jsx)("div",{className:"modal-footer justify-content-end",children:(0,i.jsx)("button",{className:"btn ripple btn-secondary","data-bs-dismiss":"modal",type:"button",onClick:()=>s.push("/caja"),children:"ABRIR"})})]})})})]}),(0,i.jsxs)("div",{className:"col-md-4 col-sm-4 col-lg-4  col-12",children:[(0,i.jsx)("div",{className:"card custom-card",children:(0,i.jsx)("div",{className:"card-body",children:(0,i.jsxs)("div",{className:"row row-sm",children:[(0,i.jsxs)("div",{className:"col-6",children:[(0,i.jsx)("div",{className:"card-item-title",children:(0,i.jsx)("label",{className:"main-content-label tx-13 font-weight-bold mb-2",children:"Horario Actual"})}),(0,i.jsxs)("p",{className:"mb-0 tx-24 mt-2",children:[" ",(0,i.jsx)(b,{})]}),(0,i.jsxs)("a",{href:"javascript:void(0)",className:"text-muted",children:[N," "]})]}),(0,i.jsx)("div",{className:"col-6",children:(0,i.jsx)("img",{src:"/assets/img/pngs/work.png",alt:"image",className:"best-emp"})})]})})}),(0,i.jsx)(d,{data:S,selectCategory:function(e){C(e)},category:y})]})]})]})})}}},function(e){e.O(0,[885,827,245,877,109,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);