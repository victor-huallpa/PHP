(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{5920:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/caja/arqueos",function(){return s(7706)}])},4011:function(e,a,s){"use strict";var t=s(6154);let i=t.Z.create({baseURL:"http://localhost/proyects/api-king-hotel/public/api/"});a.Z=i},5740:function(e,a,s){"use strict";function t(){$(document).on("click","#mainSidebarToggle",function(e){e.preventDefault(),$("body.horizontalmenu").toggleClass("main-navbar-show")}),$(".main-menu .with-sub").on("click",function(e){var a=$(this),s=a.next(),t=".nav-sub";if(s.is(t)&&s.is(":visible"))s.slideUp(300,function(){s.removeClass("open")}),s.parent("li").removeClass("show");else if(s.is(t)&&!s.is(":visible")){var i=a.parents("ul").first();i.find("ul:visible").slideUp(300).removeClass("open");var n=a.parent("li");s.slideDown(300,function(){s.addClass("open"),i.find("li.show").removeClass("show"),n.addClass("show")})}s.is(t)&&e.preventDefault()}),$(".main-menu .sub-with-sub").on("click",function(e){var a=$(this),s=a.next(),t=".sub-nav-sub";if(s.is(t)&&s.is(":visible"))s.slideUp(300,function(){s.removeClass("open")}),s.parent("li").removeClass("show");else if(s.is(t)&&!s.is(":visible")){var i=a.parents("ul").first();i.find("ul:visible").slideUp(300).removeClass("open");var n=a.parent("li");s.slideDown(300,function(){s.addClass("open"),i.find("li.show").removeClass("show"),n.addClass("show")})}s.is(t)&&e.preventDefault()});let e=!1;$(".main-profile-menu").on("click",function(a){!0==e?($("#user_menu").removeClass("show"),e=!1):($("#user_menu").addClass("show"),e=!0)})}s.d(a,{O:function(){return t}})},7706:function(e,a,s){"use strict";s.r(a);var t=s(5893),i=s(7294),n=s(4011),l=s(9109),r=s(5740);function o(e){return(0,i.useEffect)(()=>{let a=e.data,s=$("#tb_demo").DataTable({data:a,responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros",paginate:{first:"Primero",last:"\xdaltimo",next:"Siguiente",previous:"Anterior"},infoFiltered:"(filtrado de un total de _MAX_ registros)",emptyTable:"Ning\xfan dato disponible en esta tabla",info:"Mostrando _START_ a _END_ de _TOTAL_ registros"},order:[[0,"desc"]],columns:[{data:"start"},{data:"end",render:function(e,a){return null!=e?e:"SIN FECHA"}},{data:"inicial"},{data:"final"},{data:"diferencia"},{data:"user.name"}],initComplete:function(){this.api()}});return()=>{s.destroy()}},[e]),(0,t.jsx)("table",{id:"tb_demo",className:"table table-bordered border-bottom  no-footer",children:(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"INICIO"}),(0,t.jsx)("th",{children:"FIN"}),(0,t.jsx)("th",{children:"INICIAL"}),(0,t.jsx)("th",{children:"FINAL ESTIMADO"}),(0,t.jsx)("th",{children:"FINAL REAL"}),(0,t.jsx)("th",{children:"USUARIO"})]})})})}a.default=function(){let[e,a]=(0,i.useState)(null),[c,d]=(0,i.useState)(!0),[m,u]=(0,i.useState)(!0),[h,f]=(0,i.useState)(""),[p,b]=(0,i.useState)(0),[v,x]=(0,i.useState)([]);async function j(){try{await n.Z.post("nivels",{name:h}),notif({type:"success",msg:"Guardado correctamente!",position:"center"});let e=await n.Z.get("nivels"),a=await e.data;x(a),f("")}catch(e){notif({type:"error",msg:'<i class="far fa-sad-tear"></i> Algo sal\xedo mal',position:"center"})}}async function N(e){try{var a=async function(a){if(a){await n.Z.delete("nivels/"+e),notif({type:"success",msg:"Eliminado correctamente!",position:"center"});let a=await n.Z.get("nivels"),s=await a.data;x(s)}else notif({type:"error",msg:'<i class="far fa-sad-tear"></i>',position:"center"})};notif_confirm({textaccept:"Eliminar",textcancel:"Cerrar",message:"Deseas eliminar?",callback:a}),f("")}catch(e){notif({type:"error",msg:'<i class="far fa-sad-tear"></i> Algo sal\xedo mal',position:"center"})}}async function g(){try{await n.Z.put("nivels/"+p,{name:h}),notif({type:"success",msg:"Actualizado correctamente!",position:"center"});let e=await n.Z.get("nivels"),a=await e.data;x(a),f("")}catch(e){notif({type:"error",msg:'<i class="far fa-sad-tear"></i> Algo sal\xedo mal',position:"center"})}}async function w(e){d(!1);let a=[...v].find(a=>a.id==e);f(a.name),b(a.id);let{Modal:t}=s(8877),i=new t("#modalModel",{backdrop:"static",keyboard:!1});i.show(),d(!1)}async function y(e){f(e.target.value)}return(0,i.useEffect)(()=>{u(!0),(0,r.O)();let e=async()=>{try{let e=await n.Z.get("cajas"),a=await e.data;x(a)}catch(e){}finally{u(!1)}};e()},[]),(0,t.jsxs)(l.Z,{modulo:"Caja",page:"Arqueos",children:[m?(0,t.jsxs)("div",{id:"global-loader",children:[" ",(0,t.jsx)("img",{src:"/assets/loader.svg",className:"loader-img",alt:"Loader"})," "]}):"",(0,t.jsxs)("div",{className:"page-header",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"Arqueos"}),(0,t.jsxs)("ol",{className:"breadcrumb",children:[(0,t.jsx)("li",{className:"breadcrumb-item",children:(0,t.jsx)("a",{href:"#",children:"Caja"})}),(0,t.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Arqueos"})]})]}),(0,t.jsx)("div",{className:"d-flex"})]}),(0,t.jsx)("div",{className:"modal ",id:"modalModel",role:"dialog",children:(0,t.jsx)("div",{className:"modal-dialog modal-sm",role:"document",children:(0,t.jsxs)("div",{className:"modal-content",children:[(0,t.jsxs)("div",{className:"modal-header",children:[(0,t.jsx)("h6",{className:"modal-title",children:c?"NUEVO":"ACTUALIZAR"}),(0,t.jsx)("button",{"aria-label":"Close",className:"btn-close","data-bs-dismiss":"modal",type:"button"})]}),(0,t.jsx)("div",{className:"modal-body",children:(0,t.jsx)("div",{className:"row",children:(0,t.jsxs)("div",{className:"col-12",children:[(0,t.jsx)("label",{htmlFor:"",children:"Nombre"}),(0,t.jsx)("input",{className:" form-control",value:h,onChange:y})]})})}),(0,t.jsxs)("div",{className:"modal-footer justify-content-end",children:[!0==c?(0,t.jsx)("button",{className:"btn ripple btn-primary",type:"button",onClick:j,"data-bs-dismiss":"modal",children:"GUARDAR"}):(0,t.jsx)("button",{className:"btn ripple btn-primary",type:"button",onClick:g,"data-bs-dismiss":"modal",children:"ACTUALIZAR"}),(0,t.jsx)("button",{className:"btn ripple btn-secondary","data-bs-dismiss":"modal",type:"button",children:"CERRAR"})]})]})})}),(0,t.jsx)("div",{className:"row row-sm",children:(0,t.jsx)("div",{className:"col-md-12 col-lg-12",children:(0,t.jsxs)("div",{className:"card custom-card",children:[(0,t.jsx)("div",{className:"card-header  border-bottom-0 pb-0",children:(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"d-flex",children:(0,t.jsx)("label",{className:"main-content-label my-auto pt-2",children:"Lista de arqueos"})})})}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsx)(o,{data:v,itemDelete:N,itemEdit:w})})]})})})]})}}},function(e){e.O(0,[827,245,877,109,774,888,179],function(){return e(e.s=5920)}),_N_E=e.O()}]);